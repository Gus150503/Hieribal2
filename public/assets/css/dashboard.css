/* ===========================
   THEME & BASE
   =========================== */

html, body { height: 100%; overflow-y: auto; }

.admin-layout{
  --bg:#f6f8fb;
  --card:#ffffff;
  --muted:#6b7280;
  --text:#1f2937;
  --border:#e5e7eb;
  background:var(--bg);
  color:var(--text);
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Oculta cabeceras públicas dentro del admin */
.admin-layout .site-header,
.admin-layout .hero,
.admin-layout .home-hero{ display:none !important; }

/* ===========================
   LAYOUT
   =========================== */

.dashboard-layout{
  display:flex;
  min-height:100vh;
  gap: clamp(12px, 2vw, 24px);
}

/* Sidebar */
.sidebar{
  width:240px;
  background:#679d48;
  color:#fff;
  position:sticky; top:0;
  flex-shrink:0;
  display:flex; flex-direction:column; gap:.25rem;
  padding:1rem .75rem;
  box-shadow: inset -1px 0 0 rgba(255,255,255,.08);
}
.sidebar .logo{ text-align:center; padding:.25rem 0 .5rem; }
.sidebar .logo img{ max-width:160px; height:auto; filter: drop-shadow(0 2px 6px rgba(0,0,0,.15)); }
.sidebar a{
  color:#fff; text-decoration:none; display:flex; align-items:center; gap:.6rem;
  padding:.65rem .8rem; border-radius:12px; opacity:.95;
  transition: background .15s ease, opacity .15s ease, transform .15s ease;
}
.sidebar a:hover{ background: rgba(255,255,255,.12); opacity:1; transform: translateX(2px); }

/* Contenido */
.dashboard-layout > .p-4,
.dashboard-layout > .main-content{
  flex:1; width:100%; max-width:none; margin:0;
  box-sizing:border-box;
  padding-inline: clamp(24px, 3vw, 56px);
  padding-block: 18px 32px;
}

.p-4 h4{ margin:6px 0 4px; }
.p-4 .text-muted{ margin:0 0 10px; color:var(--muted); }

/* ===========================
   GRID SUPERIOR (KPIs + PANELS)
   =========================== */

.dash-grid{
  display:grid;
  grid-template-columns: 200px minmax(0, 1fr);
  gap:16px;
  margin-top:8px;
}

.kpi-stack{ display:flex; flex-direction:column; gap:10px; }
.kpi-card{ border-radius:12px; padding:10px 12px; color:#fff; box-shadow:var(--shadow); }
.kpi-title{ font-weight:600; opacity:.95; font-size:.9rem; }
.kpi-value{ font-size:1.7rem; line-height:1; font-weight:800; margin-top:6px; }
.kpi-red{ background:#e44755; }
.kpi-orange{ background:#f59e0b; }
.kpi-green{ background:#10b981; }
.kpi-cyan{ background:#22c3d6; }

.carousel-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:16px;
}

/* ===========================
   PANELS & CARDS
   =========================== */

.panel{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:14px;
  box-shadow:var(--shadow);
}
.panel h5{ margin:0 0 8px; font-weight:700; letter-spacing:.2px; color:#111827; }

/* ===========================
   CARRUSEL (UNIFICADO)
   =========================== */

.slider{
  position: relative;
  overflow: hidden;              /* recorta */
  border-radius: 12px;           /* armoniza con panel */
  background: var(--card);
}

/* base: carrusel múltiple */
.slider .slider-track{
  display:flex;
  gap:16px;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
  padding-bottom:6px;
  scrollbar-width:none; -ms-overflow-style:none;
}
.slider .slider-track::-webkit-scrollbar{ display:none; }

.slider .slide-card{
  flex:0 0 auto;
  width:260px;
  scroll-snap-align:start;
  scroll-snap-stop: always;
  border-radius:10px; padding:8px;
  display:flex; flex-direction:column; align-items:center; gap:6px;
  box-shadow:var(--shadow);
}
.slide-card img{ width:80px; height:80px; object-fit:cover; border-radius:8px; background:#f5f7fa; }
.slide-title{ font-weight:700; text-align:center; font-size:.86rem; }
.slide-sub{ font-size:.78rem; color:var(--muted); }
.slide-empty{
  min-width:100%; text-align:center; color:var(--muted);
  padding:18px 0; background:#fafafa; border:1px dashed var(--border); border-radius:10px;
}

/* flechas */
.slider .slider-btn{
  position:absolute; top:50%; transform:translateY(-50%);
  border:0; background:#fff; box-shadow:var(--shadow);
  width:28px; height:28px; border-radius:999px; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
}
.slider .prev{ left:4px; } .slider .next{ right:4px; }
.slider .slider-btn[disabled]{ opacity:.35; pointer-events:none; }

/* ---- MODO UNA TARJETA CENTRADA ---- */
.slider--single .slider-track{
  overflow-x:auto;
  scroll-snap-type:x mandatory;
  padding:0;                 /* sin padding lateral */
  gap:16px;
  justify-content:flex-start;
}

/* Espaciadores invisibles para centrar 1º y último */
.slider--single .slider-track::before,
.slider--single .slider-track::after{
  content:"";
  flex:0 0 var(--edge, 0px);  /* el JS setea --edge */
}

.slider--single .slide-card{
  width: min(500px, 90%);     /* puedes dejar 360–500px */
  box-sizing: border-box;
  margin-top: 20px;                  /* importante: sin auto */
  scroll-snap-align: center;
  scroll-snap-stop: always;
}

.slider--single .slider-btn{ display:none; }
.slider--single:hover .slider-btn{ display:block; }

/* ===========================
   GRÁFICOS
   =========================== */

.charts-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:16px; margin-top:16px; align-items:stretch;
}
.charts-grid > .panel{ padding:12px; border-radius:12px; }
.charts-grid > .panel h5{ margin:0 0 8px; }

.chart-card{
  position: relative;
  background: transparent; border: 0; box-shadow: none; padding: 0;
  width:100%; height: 240px; display:flex; align-items:center; justify-content:center;
}
.chart-card canvas{ width:100% !important; height:100% !important; display:block; }
.chart-card .chart-empty{
  position:absolute; inset:10px; display:flex; align-items:center; justify-content:center;
  background:#fafafa; border:1px dashed var(--border); border-radius:12px;
  color:var(--muted); font-weight:600; z-index:2; pointer-events:none;
}

/* ===========================
   RESPONSIVE
   =========================== */

@media (max-width:1280px){ .charts-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); margin-top: 50px; } }

@media (max-width:1024px){
  .dash-grid{ grid-template-columns: 1fr; }
  .carousel-grid{ grid-template-columns: 1fr; }
  .charts-grid{ grid-template-columns: 1fr; }

  .sidebar{
    position:fixed; left:-260px; top:0; bottom:0; z-index:1000; transition:left .25s ease;
  }
  .sidebar.active{ left:0; }
  .menu-toggle{ display:inline-flex; }

  .dashboard-layout > .p-4,
  .dashboard-layout > .main-content{
    padding-inline:16px; padding-block:16px 28px;
    height:100vh; overflow-y:auto; -webkit-overflow-scrolling:touch;
  }
}

/* pantallas grandes */
@media (min-width: 1440px){
  .dashboard-layout > .p-4{ padding-inline: clamp(20px, 2vw, 40px); }
  .dash-grid{ grid-template-columns: 240px 1fr; gap: 22px; }
  .kpi-card{ padding: 22px 16px; }
  .kpi-title{ font-size: 1.05rem; }
  .kpi-value{ font-size: 2.3rem; }
  .panel{ padding: 18px; }
  .charts-grid{ gap: 20px; margin-top: 50px;}
}

@media (min-width: 1680px){
  .dashboard-layout > .p-4{ padding-inline: clamp(22px, 2.2vw, 42px); }
  .dash-grid{ grid-template-columns: 260px 1fr; gap: 24px; }
  .kpi-value{ font-size: 2.45rem; }
}

/* ===========================
   Móvil: barra + backdrop
   =========================== */

.mobile-bar{ display:none; align-items:center; gap:10px; margin-bottom:12px; }
.menu-toggle{
  display:inline-flex; align-items:center; justify-content:center;
  width:40px; height:40px; border:0; border-radius:10px;
  background:#fff; box-shadow:0 8px 20px rgba(18,38,63,.06);
}
.sidebar-backdrop{
  display:none; position:fixed; inset:0; background:rgba(0,0,0,.35); z-index: 999;
}
@media (max-width:1024px){
  .mobile-bar{ display:flex; }
  .sidebar{
    position:fixed; top:0; left:0; bottom:0; z-index: 1000; width: 260px;
    transform: translateX(-100%); transition: transform .25s ease;
  }
  body.sidebar-open #adminSidebar{ transform: translateX(0); }
  body.sidebar-open .sidebar-backdrop{ display:block; }
}
